FROM python:3.7-alpine3.7

# RUN pip install --upgrade pip

MAINTAINER  "Moaaz Noaman" <moaz.refat@hotmail.com> version="1.0.0"

RUN adduser -D moaaz 
USER moaaz
WORKDIR /home/moaaz/app

COPY --chown=moaaz:moaaz requirements.txt requirements.txt

RUN pip install --user -r requirements.txt --no-cache-dir

COPY --chown=moaaz:moaaz . .

ENV PATH="/home/moaaz/.local/bin:${PATH}"

EXPOSE 8080
ENTRYPOINT ["python"]
CMD ["./app.py"]
